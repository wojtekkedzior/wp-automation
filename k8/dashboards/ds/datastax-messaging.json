{
    "meta": {
        "type": "db",
        "canSave": true,
        "canEdit": true,
        "canAdmin": true,
        "canStar": true,
        "canDelete": true,
        "slug": "pulsar-messaging",
        "url": "/d/sWPi0L-mk/pulsar-messaging",
        "expires": "0001-01-01T00:00:00Z",
        "created": "2023-09-18T13:32:29Z",
        "updated": "2023-09-18T13:32:29Z",
        "updatedBy": "admin",
        "createdBy": "admin",
        "version": 1,
        "hasAcl": false,
        "isFolder": false,
        "folderId": 0,
        "folderUid": "",
        "folderTitle": "General",
        "folderUrl": "",
        "provisioned": false,
        "provisionedExternalId": "",
        "annotationsPermissions": {
            "dashboard": {
                "canAdd": true,
                "canEdit": true,
                "canDelete": true
            },
            "organization": {
                "canAdd": true,
                "canEdit": true,
                "canDelete": true
            }
        },
        "publicDashboardAccessToken": "",
        "publicDashboardUid": "",
        "publicDashboardEnabled": false
    },
    "dashboard": {
        "annotations": {
            "list": [
                {
                    "builtIn": 1,
                    "datasource": {
                        "type": "datasource",
                        "uid": "grafana"
                    },
                    "enable": true,
                    "hide": true,
                    "iconColor": "rgba(0, 211, 255, 1)",
                    "name": "Annotations \u0026 Alerts",
                    "type": "dashboard"
                }
            ]
        },
        "description": "Messaging Related Metrics Per Namespace",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "links": [],
        "liveNow": false,
        "panels": [
            {
                "collapsed": false,
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 0
                },
                "id": 24,
                "panels": [],
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "refId": "A"
                    }
                ],
                "title": "Overview",
                "type": "row"
            },
            {
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "thresholds"
                        },
                        "mappings": [
                            {
                                "options": {
                                    "match": "null",
                                    "result": {
                                        "text": "N/A"
                                    }
                                },
                                "type": "special"
                            }
                        ],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "none"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 5,
                    "w": 4,
                    "x": 0,
                    "y": 1
                },
                "id": 26,
                "links": [],
                "maxDataPoints": 100,
                "options": {
                    "colorMode": "none",
                    "graphMode": "none",
                    "justifyMode": "auto",
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "10.1.1",
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "expr": "sum(pulsar_topics_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                        "format": "time_series",
                        "intervalFactor": 1,
                        "refId": "A"
                    }
                ],
                "title": "Topics",
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "thresholds"
                        },
                        "mappings": [
                            {
                                "options": {
                                    "match": "null",
                                    "result": {
                                        "text": "N/A"
                                    }
                                },
                                "type": "special"
                            }
                        ],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "none"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 5,
                    "w": 4,
                    "x": 4,
                    "y": 1
                },
                "id": 27,
                "links": [],
                "maxDataPoints": 100,
                "options": {
                    "colorMode": "none",
                    "graphMode": "none",
                    "justifyMode": "auto",
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "10.1.1",
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "expr": "sum(pulsar_producers_count{cluster=~\"$cluster\", job=~\"broker\",  namespace=~\"$namespace\"})",
                        "format": "time_series",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "title": "Producers",
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "thresholds"
                        },
                        "mappings": [
                            {
                                "options": {
                                    "match": "null",
                                    "result": {
                                        "text": "N/A"
                                    }
                                },
                                "type": "special"
                            }
                        ],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "none"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 5,
                    "w": 4,
                    "x": 8,
                    "y": 1
                },
                "id": 29,
                "links": [],
                "maxDataPoints": 100,
                "options": {
                    "colorMode": "none",
                    "graphMode": "none",
                    "justifyMode": "auto",
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "10.1.1",
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "expr": "sum(pulsar_subscriptions_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                        "format": "time_series",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "title": "Subscriptions",
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "thresholds"
                        },
                        "mappings": [
                            {
                                "options": {
                                    "match": "null",
                                    "result": {
                                        "text": "N/A"
                                    }
                                },
                                "type": "special"
                            }
                        ],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "none"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 5,
                    "w": 4,
                    "x": 12,
                    "y": 1
                },
                "id": 28,
                "links": [],
                "maxDataPoints": 100,
                "options": {
                    "colorMode": "none",
                    "graphMode": "none",
                    "justifyMode": "auto",
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "10.1.1",
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "expr": "sum(pulsar_consumers_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                        "format": "time_series",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "title": "Consumers",
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "thresholds"
                        },
                        "mappings": [
                            {
                                "options": {
                                    "match": "null",
                                    "result": {
                                        "text": "N/A"
                                    }
                                },
                                "type": "special"
                            }
                        ],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "decbytes"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 5,
                    "w": 4,
                    "x": 16,
                    "y": 1
                },
                "id": 31,
                "links": [],
                "maxDataPoints": 100,
                "options": {
                    "colorMode": "none",
                    "graphMode": "none",
                    "justifyMode": "auto",
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "10.1.1",
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "expr": "sum(pulsar_msg_backlog{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                        "format": "time_series",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "title": "Msg Backlog",
                "type": "stat"
            },
            {
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "fieldConfig": {
                    "defaults": {
                        "color": {
                            "mode": "thresholds"
                        },
                        "mappings": [
                            {
                                "options": {
                                    "match": "null",
                                    "result": {
                                        "text": "N/A"
                                    }
                                },
                                "type": "special"
                            }
                        ],
                        "thresholds": {
                            "mode": "absolute",
                            "steps": [
                                {
                                    "color": "green",
                                    "value": null
                                },
                                {
                                    "color": "red",
                                    "value": 80
                                }
                            ]
                        },
                        "unit": "decbytes"
                    },
                    "overrides": []
                },
                "gridPos": {
                    "h": 5,
                    "w": 4,
                    "x": 20,
                    "y": 1
                },
                "id": 30,
                "links": [],
                "maxDataPoints": 100,
                "options": {
                    "colorMode": "none",
                    "graphMode": "none",
                    "justifyMode": "auto",
                    "orientation": "horizontal",
                    "reduceOptions": {
                        "calcs": [
                            "lastNotNull"
                        ],
                        "fields": "",
                        "values": false
                    },
                    "textMode": "auto"
                },
                "pluginVersion": "10.1.1",
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "expr": "sum(pulsar_storage_size{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                        "format": "time_series",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "title": "Storage Size",
                "type": "stat"
            },
            {
                "collapsed": true,
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 6
                },
                "id": 18,
                "panels": [
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 0,
                            "y": 7
                        },
                        "id": 16,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "hideEmpty": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_rate_in{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) by (cluster, namespace)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}} - {{namespace}}",
                                "metric": "pulsar_rate_in",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Local publish rate",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "msg/s",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": true
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 12,
                            "y": 7
                        },
                        "id": 2,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_rate_out{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) by (cluster, namespace)",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}} - {{namespace}}",
                                "metric": "pulsar_rate_out",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Local delivery rate",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "msg / s",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": true
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 0,
                            "y": 14
                        },
                        "id": 5,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_throughput_in{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) by (cluster, namespace)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}} - {{namespace}}",
                                "metric": "pulsar_throughput_in",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Local publish throughput (bytes/s)",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "Bps",
                                "label": "",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "description": "",
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 12,
                            "y": 14
                        },
                        "id": 8,
                        "legend": {
                            "alignAsTable": false,
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_throughput_out{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) by (cluster, namespace)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}} - {{namespace}}",
                                "metric": "pulsar_throughput_out",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Local delivery throughput (bytes/s)",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "Bps",
                                "label": "",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "decimals": 0,
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 0,
                            "y": 21
                        },
                        "id": 7,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_topics_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "topics",
                                "metric": "pulsar_topics_count",
                                "refId": "D",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_producers_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "producers",
                                "metric": "pulsar_producers_count",
                                "refId": "A",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_subscriptions_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "subscriptions",
                                "metric": "pulsar_subscriptions_count",
                                "refId": "B",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_consumers_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "consumers",
                                "metric": "pulsar_consumers_count",
                                "refId": "C",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Topics - Producers - Subscriptions - Consumers",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": [
                                "current"
                            ]
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "count",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 12,
                            "y": 21
                        },
                        "id": 4,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_msg_backlog{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) by (cluster, namespace)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}} - {{namespace}}",
                                "metric": "pulsar_msg_backlog",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Local backlog",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "Messages",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    }
                ],
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "refId": "A"
                    }
                ],
                "title": "Namespaces",
                "type": "row"
            },
            {
                "collapsed": true,
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 7
                },
                "id": 20,
                "panels": [
                    {
                        "aliasColors": {
                            "0 - 0.5 ms": "#2F575E",
                            "0.5 - 1 ms": "#3F6833",
                            "1 - 5 ms": "#629E51",
                            "10 - 20 ms": "#E5A8E2",
                            "100 - 200 ms": "#EF843C",
                            "20 - 50 ms": "#65C5DB",
                            "200 ms - 1 s": "#EA6460",
                            "5 - 10 ms": "#1F78C1",
                            "50 - 100 ms": "#E5AC0E",
                            "\u003c +Inf ms": "#BF1B00",
                            "\u003c 0.5 ms": "#508642",
                            "\u003e 1 s": "#BF1B00"
                        },
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 5,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 0,
                            "y": 8
                        },
                        "id": 3,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": true,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 0,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [
                            {
                                "alias": "\u003c 100 ms",
                                "yaxis": 1
                            }
                        ],
                        "spaceLength": 10,
                        "stack": true,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_0_5{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "0 - 0.5 ms",
                                "metric": "pulsar_add_entry_latency_le_0_5",
                                "refId": "A",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_1{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "0.5 - 1 ms",
                                "metric": "pulsar_add_entry_latency_le_1",
                                "refId": "B",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_5{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "1 - 5 ms",
                                "metric": "pulsar_add_entry_latency_le_5",
                                "refId": "C",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_10{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "5 - 10 ms",
                                "metric": "pulsar_add_entry_latency_le_10",
                                "refId": "D",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_20{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "10 - 20 ms",
                                "metric": "pulsar_add_entry_latency_le_20",
                                "refId": "E",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_50{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "20 - 50 ms",
                                "metric": "pulsar_add_entry_latency_le_50",
                                "refId": "F",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_100{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "hide": false,
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "50 - 100 ms",
                                "metric": "pulsar_add_entry_latency_le_100",
                                "refId": "G",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_200{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "100 - 200 ms",
                                "metric": "pulsar_add_entry_latency_le_200",
                                "refId": "H",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_le_1000{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "200 ms - 1 s",
                                "metric": "pulsar_add_entry_latency_le_1000",
                                "refId": "I",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_overflow{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003e 1 s",
                                "metric": "pulsar_add_entry_latency_overflow",
                                "refId": "J",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Storage Write Latency",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "msg / s",
                                "logBase": 1,
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 12,
                            "y": 8
                        },
                        "id": 9,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_size{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "$namespace",
                                "metric": "pulsar_storage_size",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Storage Size",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "decbytes",
                                "label": "",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": true
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "description": "Rate of writes into storage (can be lower than publish rate, when batching is enabled)",
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 0,
                            "y": 15
                        },
                        "id": 13,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_write_latency_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "$namespace",
                                "metric": "pulsar_storage_write_rate",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Storage Write Rate",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "entry / s",
                                "logBase": 1,
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "description": "Reads from bookies",
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 12,
                            "y": 15
                        },
                        "id": 14,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": false,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_storage_read_latency_count{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "read rate",
                                "metric": "pulsar_storage_read_rate",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Storage read entry rate",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "entries / s",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 6,
                        "gridPos": {
                            "h": 6,
                            "w": 24,
                            "x": 0,
                            "y": 22
                        },
                        "id": 12,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": true,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 0,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [
                            {
                                "alias": "\u003c 2 KB",
                                "yaxis": 1
                            }
                        ],
                        "spaceLength": 10,
                        "stack": true,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_128{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 128 bytes",
                                "metric": "pulsar_entry_size_le_128",
                                "refId": "A",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_512{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 512 bytes",
                                "metric": "pulsar_entry_size_le_512",
                                "refId": "B",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_1_kb{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 1 KB",
                                "metric": "pulsar_entry_size_le_1_kb",
                                "refId": "C",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_2_kb{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 2 KB",
                                "metric": "pulsar_entry_size_le_2_kb",
                                "refId": "D",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_4_kb{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 4 KB",
                                "metric": "pulsar_entry_size_le_4_kb",
                                "refId": "E",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_16_kb{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 16 KB",
                                "metric": "pulsar_entry_size_le_16_kb",
                                "refId": "F",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_100_kb{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 100 KB",
                                "metric": "pulsar_entry_size_le_100_kb",
                                "refId": "G",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_le_1_mb{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003c 1 MB",
                                "metric": "pulsar_entry_size_le_1_mb",
                                "refId": "H",
                                "step": 10
                            },
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_entry_size_overflow{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) / 60.0",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "\u003e 1 MB",
                                "metric": "pulsar_entry_size_le_overflow",
                                "refId": "I",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Storage entry size",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "msg / s",
                                "logBase": 1,
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    }
                ],
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "refId": "A"
                    }
                ],
                "title": "Storage",
                "type": "row"
            },
            {
                "collapsed": true,
                "datasource": {
                    "type": "prometheus",
                    "uid": "prometheus"
                },
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 8
                },
                "id": 22,
                "panels": [
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 0,
                            "y": 9
                        },
                        "id": 10,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": true,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_replication_rate_in{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\", remote_cluster!=\"local\"}) by (cluster, remote_cluster)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "{{remote_cluster}}  {{cluster}}",
                                "metric": "pulsar_rate_in",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Incoming replication rate | any  $cluster",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "msg / s",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 12,
                            "y": 9
                        },
                        "id": 11,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": true,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_replication_rate_out{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"})",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}}  {{remote_cluster}}",
                                "metric": "pulsar_rate",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Outgoing replication rate | $cluster  any",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "msg / s",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    },
                    {
                        "aliasColors": {},
                        "bars": false,
                        "dashLength": 10,
                        "dashes": false,
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "fill": 1,
                        "gridPos": {
                            "h": 7,
                            "w": 24,
                            "x": 0,
                            "y": 16
                        },
                        "id": 15,
                        "legend": {
                            "avg": false,
                            "current": false,
                            "max": false,
                            "min": false,
                            "show": true,
                            "total": false,
                            "values": false
                        },
                        "lines": true,
                        "linewidth": 1,
                        "links": [],
                        "nullPointMode": "null",
                        "percentage": false,
                        "pointradius": 5,
                        "points": false,
                        "renderer": "flot",
                        "seriesOverrides": [],
                        "spaceLength": 10,
                        "stack": false,
                        "steppedLine": false,
                        "targets": [
                            {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "prometheus"
                                },
                                "expr": "sum(pulsar_replication_backlog{cluster=~\"$cluster\", job=~\"broker\", namespace=~\"$namespace\"}) by (cluster, remote_cluster)",
                                "format": "time_series",
                                "intervalFactor": 2,
                                "legendFormat": "{{cluster}}  {{remote_cluster}}",
                                "metric": "pulsar_replication_backlog",
                                "refId": "A",
                                "step": 10
                            }
                        ],
                        "thresholds": [],
                        "title": "Replication backlog | $cluster  any",
                        "tooltip": {
                            "shared": true,
                            "sort": 0,
                            "value_type": "individual"
                        },
                        "type": "graph",
                        "xaxis": {
                            "mode": "time",
                            "show": true,
                            "values": []
                        },
                        "yaxes": [
                            {
                                "format": "short",
                                "label": "messages",
                                "logBase": 1,
                                "min": "0",
                                "show": true
                            },
                            {
                                "format": "short",
                                "logBase": 1,
                                "show": false
                            }
                        ],
                        "yaxis": {
                            "align": false
                        }
                    }
                ],
                "targets": [
                    {
                        "datasource": {
                            "type": "prometheus",
                            "uid": "prometheus"
                        },
                        "refId": "A"
                    }
                ],
                "title": "Geo Replication",
                "type": "row"
            }
        ],
        "refresh": "1m",
        "schemaVersion": 38,
        "style": "dark",
        "tags": [
            "pulsar"
        ],
        "templating": {
            "list": [
                {
                    "current": {},
                    "datasource": {
                        "type": "prometheus",
                        "uid": "prometheus"
                    },
                    "definition": "",
                    "hide": 0,
                    "includeAll": true,
                    "label": "Cluster",
                    "multi": false,
                    "name": "cluster",
                    "options": [],
                    "query": "pulsar_rate_in{cluster=~\".+\"}",
                    "refresh": 2,
                    "regex": "/.*[^_]cluster=\\\"([^\\\"]+)\\\".*/",
                    "skipUrlSync": false,
                    "sort": 1,
                    "tagValuesQuery": "",
                    "tagsQuery": "",
                    "type": "query",
                    "useTags": false
                },
                {
                    "current": {},
                    "datasource": {
                        "type": "prometheus",
                        "uid": "prometheus"
                    },
                    "definition": "",
                    "hide": 0,
                    "includeAll": true,
                    "label": "Namespace",
                    "multi": false,
                    "name": "namespace",
                    "options": [],
                    "query": "pulsar_rate_in{namespace=~\".+\", cluster=~\"$cluster\"}",
                    "refresh": 2,
                    "regex": "/.*namespace=\\\"([^\\\"]+)\\\".*/",
                    "skipUrlSync": false,
                    "sort": 1,
                    "tagValuesQuery": "",
                    "tagsQuery": "",
                    "type": "query",
                    "useTags": false
                }
            ]
        },
        "time": {
            "from": "now-1h",
            "to": "now"
        },
        "timepicker": {
            "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
            ],
            "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
            ]
        },
        "timezone": "browser",
        "title": "Pulsar / Messaging",
        "uid": "sWPi0L-mk",
        "version": 1,
        "weekStart": ""
    }
}